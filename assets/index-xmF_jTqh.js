var m=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var n=(r,e,t)=>(m(r,e,"read from private field"),t?t.call(r):e.get(r)),h=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},A=(r,e,t,o)=>(m(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t);var p=(r,e,t,o)=>({set _(s){A(r,e,s,t)},get _(){return n(r,e,o)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const w of i.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&o(w)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var u,a,c,f;const l=class l{constructor(){h(this,a,0);h(this,c,new Set);h(this,f,new Set)}generateNewWord(){p(this,a)._++,n(this,c).clear(),n(this,f).clear()}guessLetter(e,t){if(n(this,c).has(e))throw new Error(`Буква "${e}" уже была угадана ранее.`);const o=n(l,u)[n(this,a)],s=e.toLowerCase();if(o.includes(s)){for(let i=0;i<o.length;i++)o[i].toLowerCase()===s&&(n(this,c).add(s),(t===null||i===t)&&n(this,f).add(i));return!0}else return n(this,c).add(s),!1}hasGuessedLetterAtPosition(e,t){const o=e.toLowerCase();return n(this,f).has(t)&&n(this,c).has(o)}guessLetterAtPosition(e,t){if(this.hasGuessedLetterAtPosition(e,t))throw new Error(`Буква "${e}" уже была угадана ранее.`);const o=n(l,u)[n(this,a)],s=e.toLowerCase();if(o[t].toLowerCase()===s)n(this,c).add(s),n(this,f).add(t);else throw new Error(`Неверная буква "${e}" в данной позиции.`)}allLettersGuessed(){const e=n(l,u)[n(this,a)];for(let t=0;t<e.length;t++){const o=e[t].toLowerCase();if(!n(this,c).has(o)&&o!==" ")return!1}return!0}getCurrentWord(){return n(l,u)[n(this,a)]}};u=new WeakMap,a=new WeakMap,c=new WeakMap,f=new WeakMap,h(l,u,["хоровод","пуансеттия","бонбоньерка","простоквашино","Дзюнанушик","декалькомания","Кирибати"]);let g=l;const d=new g,y=document.getElementById("wordDisplay"),E=document.getElementById("keyboard"),P=new Audio("./sounds/error.mp3"),W=new Audio("./sounds/right.mp3");function L(){const r=d.getCurrentWord();y.innerHTML="";for(let e=0;e<r.length;e++){const t=r[e],o=document.createElement("span");o.classList.add("word-letter"),d.hasGuessedLetterAtPosition(t.toLowerCase(),e)||t===" "?o.textContent=t:o.textContent="_",y.appendChild(o)}}function b(){const r="абвгдеёжзийклмнопрстуфхцчшщъыьэюя";for(const e of r){const t=document.createElement("div");t.classList.add("key"),t.textContent=e,t.addEventListener("click",()=>x(e,t)),E.appendChild(t)}}async function x(r,e){try{const t=d.guessLetter(r.toLowerCase(),null);t&&e.classList.add("correct"),L(),t?await P.play():(await W.play(),e.classList.add("incorrect")),d.allLettersGuessed()&&C()}catch(t){alert(t.message)}}function G(r){if(r.target.classList.contains("word-letter")){const e=Array.from(r.target.parentNode.children).indexOf(r.target),t=d.getCurrentWord()[e];d.hasGuessedLetterAtPosition(t.toLowerCase(),e)||(d.guessLetterAtPosition(t,e),L(),d.allLettersGuessed()&&C())}}function C(){alert("Поздравляем! Вы отгадали слово."),d.generateNewWord(),L(),O()}function O(){document.querySelectorAll(".key").forEach(e=>e.classList.remove("incorrect"))}y.addEventListener("click",G);L();b();
